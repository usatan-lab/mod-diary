{% extends 'base.html' %}
{% block content %}
<h2>âœï¸ æ—¥è¨˜ã‚’ç·¨é›†ã™ã‚‹</h2>

<form method="POST" action="{{ url_for('edit_diary', diary_id=diary_id) }}">

  <!-- ğŸŒŸ ã‚¸ãƒ£ãƒ³ãƒ«é¸æŠ -->
  <div>
    <label for="main_category">ã‚¸ãƒ£ãƒ³ãƒ«ï¼š</label>
    <select name="main_category" id="main_category">
      {% for g in main_categories %}
        <option value="{{ g }}" {% if g == main_category %}selected{% endif %}>{{ g }}</option>
      {% endfor %}
    </select>
  </div>

  <!-- âœï¸ æœ¬æ–‡ -->
  <div>
    <label for="content">å†…å®¹ï¼š</label>
    <textarea name="content" id="content" rows="10" required>{{ content }}</textarea>
  </div>

  <!-- ğŸ˜Š æ„Ÿæƒ…é¸æŠ -->
  <div>
    <label>æ„Ÿæƒ…ï¼š</label>
    <div class="mood-tags">
      {% for tag in mood_tags %}
        <label>
          <input type="radio"
                 name="sentiment"
                 value="{{ tag }}"
                 {% if tag == sentiment %}checked{% endif %}>
          {{ tag }}
        </label>
      {% endfor %}
    </div>
  </div>

  <button type="submit">æ›´æ–°ã™ã‚‹</button>
</form>

<!-- ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºç”¨ãƒœã‚¿ãƒ³ -->
<button type="button" onclick="showDeleteModal()" style="background-color: #fdd; color: red; margin-top: 1em;">
    ğŸ—‘ ã“ã®æ—¥è¨˜ã‚’å‰Šé™¤ã™ã‚‹
  </button>
<!-- å‰Šé™¤ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="deleteModal" class="modal-overlay">
    <div class="modal-content">
      <p>ã“ã®æ—¥è¨˜ã‚’æœ¬å½“ã«å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã„ã§ã™ã‹ï¼Ÿ</p>
      <form method="POST" action="{{ url_for('delete_diary', diary_id=diary_id) }}">
        <button type="submit" style="margin-right: 1em;">ã¯ã„</button>
        <button type="button" onclick="hideDeleteModal()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
      </form>
    </div>
  </div>

  
  
 <style>
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.4);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    
    .modal-content {
      background: #fff;
      padding: 2em;
      border-radius: 1em;
      box-shadow: 0 0 10px #888;
      text-align: center;
    }
    button {
    border-radius: 6px;
    padding: 0.5em 1.2em;
    }
    
    .modal-overlay {
    animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
    }

    </style>
<script>
    function showDeleteModal() {
      document.getElementById('deleteModal').style.display = 'flex';
    }
    
    function hideDeleteModal() {
      document.getElementById('deleteModal').style.display = 'none';
    }
    </script>
            

{% endblock %}
